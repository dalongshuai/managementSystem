(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4902c4ec"],{"290d":function(a,e,t){"use strict";var s=t("51b8"),r=t.n(s);r.a},"51b8":function(a,e,t){},bf3e:function(a,e,t){"use strict";t.r(e);var s=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"person-center"},[t("el-upload",{ref:"upload",staticClass:"avatar-uploader",attrs:{action:"http://127.0.0.1:2888/account/uploadavatar","http-request":a.submit2,"show-file-list":!1,"on-success":a.handleAvatarSuccess,"before-upload":a.beforeAvatarUpload}},[a.imageUrl?t("img",{staticClass:"avatar",attrs:{src:a.imageUrl}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)},r=[],c=t("bc3a"),n=t.n(c),o={data:function(){return{imageUrl:""}},methods:{handleAvatarSuccess:function(a,e){this.imageUrl=URL.createObjectURL(e.raw);var t=a.code,s=a.reason;0===t&&this.$message({type:"success",message:s})},beforeAvatarUpload:function(a){var e="image/jpeg"===a.type,t=a.size/1024/1024<2;return e||this.$message.error("上传头像图片只能是 JPG 格式!"),t||this.$message.error("上传头像图片大小不能超过 2MB!"),e&&t},submit2:function(a){var e=this,t=new FormData;t.append("file",a.file);var s=window.localStorage.getItem("token");n.a.post("/account/uploadavatar",t,{headers:{"Content-Type":"multipart/form-data",authorization:"Bearer ".concat(s)}}).then(function(a){var t=a.data,s=t.code,r=t.reason,c=t.imgurl;0===s?(e.imageUrl="http://127.0.0.1:2888".concat(c),e.$message({type:"success",message:r}),e.$emit("updateAvatar")):1===s&&e.$message({type:"success",message:r})}).catch(function(a){console.log(a)})}}},i=o,u=(t("290d"),t("2877")),l=Object(u["a"])(i,s,r,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-4902c4ec.5bad65d1.js.map