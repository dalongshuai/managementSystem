(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0ae98d82"],{"2cb5":function(e,r,o){"use strict";var t=o("503d"),s=o.n(t);s.a},"503d":function(e,r,o){},"685b":function(e,r,o){"use strict";o.r(r);var t=function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("div",{staticClass:"password-change"},[o("el-card",{staticClass:"box-card",attrs:{"body-style":"height:100%;"}},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[e._v("添加管理员账号")])])]),o("div",{staticClass:"login-warper"},[o("el-form",{ref:"changeForm",attrs:{model:e.changeForm,"status-icon":"",rules:e.rules,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"原密码",prop:"oldpassword"}},[o("el-input",{attrs:{type:"text"},model:{value:e.changeForm.oldpassword,callback:function(r){e.$set(e.changeForm,"oldpassword",r)},expression:"changeForm.oldpassword"}})],1),o("el-form-item",{attrs:{label:"新密码",prop:"newpassword"}},[o("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.changeForm.newpassword,callback:function(r){e.$set(e.changeForm,"newpassword",r)},expression:"changeForm.newpassword"}})],1),o("el-form-item",{attrs:{label:"确认密码",prop:"checkPwd"}},[o("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.changeForm.checkPwd,callback:function(r){e.$set(e.changeForm,"checkPwd",r)},expression:"changeForm.checkPwd"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("changeForm")}}},[e._v("提交")]),o("el-button",{on:{click:function(r){return e.resetForm("changeForm")}}},[e._v("重置")])],1)],1)],1)],1)},s=[],a={data:function(){var e=this,r=function(r,o,t){""===o?t(new Error("请输入密码")):o.length<3||o.length>5?t(new Error("密码长度3-5位")):(o===e.changeForm.oldpassword&&t(new Error("新密码与原密码相同!")),""!==e.changeForm.checkPass&&e.$refs.changeForm.validateField("checkPwd"),t())},o=function(r,o,t){""===o?t(new Error("请再次输入密码")):e.changeForm.newpassword!==e.changeForm.checkPwd?t(new Error("两次密码输入不一致")):t()},t=function(r,o,t){e.req.post("/account/checkoldpassword",{value:o}).then(function(e){0!==e.code?t(new Error("原密码错误!")):t()}).catch(function(e){console.log(e)})};return{changeForm:{oldpassword:"",newpassword:"",checkPwd:""},rules:{oldpassword:[{required:!0,validator:t,trigger:"blur"}],newpassword:[{required:!0,validator:r,trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],checkPwd:[{required:!0,validator:o,trigger:"blur"}]}}},methods:{submitForm:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var o=r.changeForm.newpassword;r.req.post("/account/savachangepassword",{newpassword:o}).then(function(e){var o=e.code,t=e.reason;0===o?(r.$message({type:"success",center:!0,message:t}),window.localStorage.removeItem("token"),setTimeout(function(){r.$router.push("/login")},1e3)):1===o&&r.$message({type:"error",center:!0,message:t})}).catch(function(e){console.log(e)})})},resetForm:function(e){this.$refs[e].resetFields()}}},n=a,c=(o("2cb5"),o("2877")),l=Object(c["a"])(n,t,s,!1,null,null,null);r["default"]=l.exports}}]);
//# sourceMappingURL=chunk-0ae98d82.0f1a1cb0.js.map